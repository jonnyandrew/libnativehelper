{
  "comments": [
    {
      "key": {
        "uuid": "fc5f002f_7fc18ded",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-07-17T16:51:24Z",
      "side": 1,
      "message": "I don\u0027t know what the vndk naming convention but this should include something that makes it explicit it\u0027s only intended for vendor use.\n\ne.g. libnativehelper_vendor , libnativehelper_vndk, etc...",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2680bac2_59cda63d",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-07-17T17:01:45Z",
      "side": 1,
      "message": "(You\u0027ll notice agampe also made a similar comment) The vndk doesn\u0027t have a naming convention. Inclusion in the list is based on the build system, and this is already reflected and enforced by the fact that this says \"vendor: true\"\n\nI think it should be called \"libnativehelper_jni_headers\"",
      "parentUuid": "fc5f002f_7fc18ded",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87949d83_cb9e4ec4",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2017-07-17T17:46:32Z",
      "side": 1,
      "message": "Maybe the proper way is to actually separate out the jni.h completely (and not this weird include file)? Then have the regular library re-export it?",
      "parentUuid": "2680bac2_59cda63d",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "121dcdf9_2e66ff62",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-07-17T17:51:08Z",
      "side": 1,
      "message": "That won\u0027t work (yet) (because most things rely on it to be in its current location relative to the root of the Android tree)",
      "parentUuid": "87949d83_cb9e4ec4",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8729f8ac_0003dea7",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2017-07-17T17:52:31Z",
      "side": 1,
      "message": "This will work, if we recreate the structure... :-)",
      "parentUuid": "121dcdf9_2e66ff62",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bbb6d89_165f84e6",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2017-07-17T18:01:30Z",
      "side": 1,
      "message": "I like this idea. We can eliminate the regression by automatically adding the new header lib to all platform libraries (just like the libnativehelper/include/nativehelper is unconditionally given to them), but I want to ask Dan or Colin\u0027s opinion on this.",
      "parentUuid": "8729f8ac_0003dea7",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "824b569f_4204f359",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2017-07-17T18:01:30Z",
      "side": 1,
      "message": "I think \u0027libnativehelper\u0027 is very misleading in this case. jni.h is not just an helper but defines JNI itself (e.g. JNIEnv, etc.)",
      "parentUuid": "2680bac2_59cda63d",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75dc9e7a_f4b45d03",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-07-17T18:07:28Z",
      "side": 1,
      "message": "Yeah, exactly, it won\u0027t work yet. I think it\u0027s a good goal, but I don\u0027t think it\u0027s the kind of thing that can be done in this one CL. A lot of vendor makefiles would need to be updated.",
      "parentUuid": "5bbb6d89_165f84e6",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2b906ae_8eebd886",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2017-07-17T18:15:26Z",
      "side": 1,
      "message": "I am not suggesting to add this as a global header, automatically. I believe we want to get away from this, and am supportive of that.\n\nWhat I was suggesting is a temporary workaround. Add libnativehelper/jni_header/libnativehelper/jni.h. Create *two* header libraries, the \"good\" one, and a \"compat\" one. Re-export both from libnativehelper shared library, but only make the good one available to the vndk.\n\nThen leisurely go through the platform and replace the includes. (Most users in the platform also rely on things like ScopedLocalRef etc, so just including the header library is likely not enough)",
      "parentUuid": "824b569f_4204f359",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3063a7a_090dc98b",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-07-17T16:37:29Z",
      "side": 1,
      "message": "also maybe include_vndk like liblog/libcutils/etc instead?",
      "range": {
        "startLine": 82,
        "startChar": 27,
        "endLine": 82,
        "endChar": 39
      },
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f7d806e_24cca406",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2017-07-17T18:01:30Z",
      "side": 1,
      "message": "I choose this simply because we already have platform_include in this project :(",
      "parentUuid": "b3063a7a_090dc98b",
      "range": {
        "startLine": 82,
        "startChar": 27,
        "endLine": 82,
        "endChar": 39
      },
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c5d8441_0c3433b4",
        "filename": "vndk_include/jni.h",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-07-17T16:51:24Z",
      "side": 1,
      "message": "Is it supposed to be a symbolic link?",
      "revId": "16dac9414a20d1a6218e36d82777cb82995ef495",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}